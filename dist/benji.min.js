/*!
 * benji
 * Benji is a lightweight HTTP networking library for managing simple HTTP requests in Javascript.
 * 
 * @version v1.0.0
 * @author Aaron Wong <aaron@pixelbirddesign.com>
 * @homepage https://github.com/aa-wong/benji.js
 * @repository git+https://github.com/aa-wong/benji.js.git
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("benji",[],t):"object"==typeof exports?exports.benji=t():e.benji=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1).default},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t),r.d(t,"Http",(function(){return s})),r.d(t,"Method",(function(){return o}));var o=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE",HEAD:"HEAD",_:{successCodes:{GET:200,POST:200,PUT:200,PATCH:200,DELETE:200},createSuccess:{POST:201,PUT:201,PATCH:201}}}),s=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._={},Object.keys(r).forEach((function(e){return t._[e]=r[e]})),this._callbacks={}}var t,r,s;return t=e,(r=[{key:"get",value:function(e,t){return this.fetch({method:o.GET,url:e,headers:t})}},{key:"post",value:function(e,t,r){return this.fetch({method:o.POST,url:e,headers:t,body:r})}},{key:"put",value:function(e,t,r){return this.fetch({method:o.PUT,url:e,headers:t,body:r})}},{key:"patch",value:function(e,t,r){return this.fetch({method:o.PATCH,url:e,headers:t,body:r})}},{key:"delete",value:function(e,t){return this.fetch({method:o.DELETE,url:e,headers:t})}},{key:"fetch",value:function(e){var t=this,r=e.url,n=e.headers;e.url="".concat(this.baseURL).concat(r),n&&(e.headers=Object.assign(this.baseHeaders,n)),function(e,t){var r=t.method,n=t.url,s=t.headers,u=t.body;if(!(r in o))return Promise.reject(new Error("Invalid method supplied."));var i=u?o._.createSuccess[r]:o._.successCodes[r];if(e.open(r||o.GET,n,!0),s&&s.constructor===Object)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&e.setRequestHeader(c,s[c]);if(u){if("application/x-www-form-urlencoded"===s["Content-Type"]&&"string"!=typeof u)return Promise.reject(new Error("Invalid body format."));if("application/json"===s["Content-Type"])if(u.constructor===Object||Array.isArray(u))u=JSON.stringify(u);else if("string"!=typeof u)return Promise.reject(new Error("Invalid body format."))}e.onreadystatechange=function(){if(4===e.readyState){var t;try{t=JSON.parse(e.response)}catch(e){return Promise.reject(e)}return e.status===i?Promise.resolve(t):t?Promise.reject(t):Promise.reject(e.statusText)}},e.send(u)}(this.xhr,e).then((function(e){return t._handleSuccess(e),Promise.resolve(e)})).catch((function(e){return t._handleError(e),Promise.reject(e)}))}},{key:"onError",value:function(e){return this._applyCallback("onError",e)}},{key:"onSuccess",value:function(e){return this._applyCallback("onSuccess",e)}},{key:"_applyCallback",value:function(e,t){return"function"==typeof t&&(this._callbacks[e]=function(e){return t(e)}),this}},{key:"_handleError",value:function(e){var t=this._callbacks.onError;if(t)return t(e)}},{key:"_handleSuccess",value:function(e){var t=this._callbacks.onSuccess;if(t)return t(e)}},{key:"baseURL",get:function(){return this._.baseURL?this._.baseURL:""},set:function(e){e&&e.constructor===String&&(this._.baseURL=e)}},{key:"baseHeaders",get:function(){return this._.baseHeaders?this._.baseHeaders:{}},set:function(e){e&&e.constructor===Object?this._.baseHeaders=e:this._.baseHeaders=this.baseHeaders?this.baseHeaders:{}}},{key:"xhr",get:function(){return this._.xhr||(this._.xhr=new XMLHttpRequest),this._.xhr},set:function(e){e&&e.constructor===XMLHttpRequest&&(this._.xhr=e)}}])&&n(t.prototype,r),s&&n(t,s),e}()}])}));
//# sourceMappingURL=benji.min.js.map